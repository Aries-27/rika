/* Copyright (C) 2020 INrlTeam.

Licensed under the  GPL-3.0 License;

you may not use this file except in compliance with the License.

inrl-md

*/
const _0x4dd4ad=_0x4e40;function _0x4e40(_0x10653e,_0x3f7ab4){const _0x1023bf=_0x1023();return _0x4e40=function(_0x4e40d6,_0x1ede40){_0x4e40d6=_0x4e40d6-0xa2;let _0x1b1c61=_0x1023bf[_0x4e40d6];return _0x1b1c61;},_0x4e40(_0x10653e,_0x3f7ab4);}(function(_0x929618,_0x2a47c6){const _0x3715ac=_0x4e40,_0x3530d4=_0x929618();while(!![]){try{const _0x4b58f9=parseInt(_0x3715ac(0xbf))/0x1*(-parseInt(_0x3715ac(0xb4))/0x2)+parseInt(_0x3715ac(0xae))/0x3*(parseInt(_0x3715ac(0xb1))/0x4)+parseInt(_0x3715ac(0xc2))/0x5+parseInt(_0x3715ac(0xbd))/0x6+-parseInt(_0x3715ac(0xa2))/0x7+parseInt(_0x3715ac(0xb2))/0x8+parseInt(_0x3715ac(0xab))/0x9;if(_0x4b58f9===_0x2a47c6)break;else _0x3530d4['push'](_0x3530d4['shift']());}catch(_0x381387){_0x3530d4['push'](_0x3530d4['shift']());}}}(_0x1023,0x8478f));const fs=require('fs'),toMs=require('ms'),cron=require('node-cron'),config=JSON[_0x4dd4ad(0xb6)](fs[_0x4dd4ad(0xa8)]('./lib/database/config.json')),time=require(_0x4dd4ad(0xa6))['tz'](config[_0x4dd4ad(0xb5)])[_0x4dd4ad(0xb8)]('DD/MM\x20HH:mm:ss'),addUser=(_0xaab0f4,_0x2e9003,_0x4de125)=>{const _0x5d16a7=_0x4dd4ad;let _0x2a13e9=![];Object[_0x5d16a7(0xa7)](_0x4de125)[_0x5d16a7(0xaa)](_0x25796f=>{_0x4de125[_0x25796f]['id']===_0xaab0f4&&(_0x2a13e9=!![]);});if(_0x2a13e9===![]){const _0x2433aa={'id':_0xaab0f4,'verified':![],'name':_0x2e9003,'time':time,'limit':0x0,'balance':0x0,'premium':![]};return _0x4de125[_0x5d16a7(0xb9)](_0x2433aa),fs[_0x5d16a7(0xc1)](_0x5d16a7(0xa9),JSON[_0x5d16a7(0xaf)](_0x4de125,null,0x4)),![];}},checkUser=(_0x1e1732,_0x2c79cd)=>{const _0x48d7a1=_0x4dd4ad;let _0x32a4aa=![];return Object['keys'](_0x2c79cd)[_0x48d7a1(0xaa)](_0x5ce097=>{_0x2c79cd[_0x5ce097]['id']===_0x1e1732&&(_0x32a4aa=!![]);}),_0x32a4aa;},isLimit=(_0x5642dc,_0x183eee,_0x592b26,_0x427295,_0x15e4eb)=>{const _0x480428=_0x4dd4ad;if(_0x183eee||_0x592b26)return![];let _0x63c38a=![];for(let _0x4d1748 of _0x15e4eb){if(_0x4d1748['id']===_0x5642dc)return _0x4d1748[_0x480428(0xb7)]>=_0x427295?(_0x63c38a=!![],!![]):(_0x63c38a=!![],![]);}if(_0x63c38a===![]){const _0x2fd9cd={'id':_0x5642dc,'limit':0x0};return _0x15e4eb[_0x480428(0xb9)](_0x2fd9cd),fs[_0x480428(0xc1)](_0x480428(0xa9),JSON['stringify'](_0x15e4eb,null,0x4)),![];}},limitAdd=(_0x2efbc8,_0x2ab0df,_0x531f23,_0x9dbe68)=>{const _0x24ab6a=_0x4dd4ad;if(_0x2ab0df||_0x531f23)return![];let _0x31c56a=![];Object['keys'](_0x9dbe68)[_0x24ab6a(0xaa)](_0x305b77=>{_0x9dbe68[_0x305b77]['id']===_0x2efbc8&&(_0x31c56a=_0x305b77);}),_0x31c56a!==![]&&(_0x9dbe68[_0x31c56a][_0x24ab6a(0xb7)]+=0x1,fs[_0x24ab6a(0xc1)](_0x24ab6a(0xa9),JSON[_0x24ab6a(0xaf)](_0x9dbe68,null,0x4)));},getLimit=(_0x1443b4,_0xd56e55)=>{const _0x13ee4d=_0x4dd4ad;let _0x1709c5=null,_0x30e9e6=![];Object['keys'](_0xd56e55)[_0x13ee4d(0xaa)](_0x53eb54=>{_0xd56e55[_0x53eb54]['id']===_0x1443b4&&(_0x1709c5=_0x53eb54,_0x30e9e6=!![]);});if(_0x30e9e6===![]&&_0x1709c5===null){const _0x4fec2a={'id':_0x1443b4,'limit':0x0};return _0xd56e55['push'](_0x4fec2a),fs[_0x13ee4d(0xc1)](_0x13ee4d(0xa9),JSON[_0x13ee4d(0xaf)](_0xd56e55,null,0x4)),0x0;}else return _0xd56e55[_0x1709c5]['limit'];},addBalance=(_0x3e7c73,_0x32532a,_0x260265)=>{const _0x6a0b03=_0x4dd4ad;let _0x59108e=![];Object[_0x6a0b03(0xa7)](_0x260265)[_0x6a0b03(0xaa)](_0x38e876=>{_0x260265[_0x38e876]['id']===_0x3e7c73&&(_0x59108e=_0x38e876);}),_0x59108e!==![]&&(_0x260265[_0x59108e][_0x6a0b03(0xa5)]+=_0x32532a,fs[_0x6a0b03(0xc1)](_0x6a0b03(0xa9),JSON['stringify'](_0x260265,null,0x4)));},getBalance=(_0x1aaf8f,_0x787a6d)=>{const _0x3960f4=_0x4dd4ad;let _0x51bf4a=![];return Object['keys'](_0x787a6d)[_0x3960f4(0xaa)](_0xbb5c9c=>{_0x787a6d[_0xbb5c9c]['id']===_0x1aaf8f&&(_0x51bf4a=_0xbb5c9c);}),_0x51bf4a!==![]?_0x787a6d[_0x51bf4a][_0x3960f4(0xa5)]:0x0;},addPremiumUser=(_0x2c6b10,_0x31d379,_0x4c1474)=>{const _0x2e92a4=_0x4dd4ad;let _0x5c597b=![];Object[_0x2e92a4(0xa7)](_0x4c1474)[_0x2e92a4(0xaa)](_0x5d4396=>{_0x4c1474[_0x5d4396]['id']===_0x2c6b10&&(_0x5c597b=_0x5d4396);}),_0x5c597b!==![]&&(_0x4c1474[_0x5c597b][_0x2e92a4(0xc0)]=!![],_0x4c1474[_0x5c597b]['expired']=Date[_0x2e92a4(0xbb)]()+toMs(_0x31d379),fs[_0x2e92a4(0xc1)](_0x2e92a4(0xa9),JSON['stringify'](_0x4c1474,null,0x4)));},delPremiumUser=(_0x2d76ff,_0x1dbd9c)=>{const _0x4317ae=_0x4dd4ad;let _0x320d23=![];Object['keys'](_0x1dbd9c)[_0x4317ae(0xaa)](_0x3dd637=>{_0x1dbd9c[_0x3dd637]['id']===_0x2d76ff&&(_0x320d23=_0x3dd637);}),_0x320d23!==![]&&(_user[_0x320d23][_0x4317ae(0xb7)]=0x0,_user[_0x320d23][_0x4317ae(0xc0)]=![],delete _user[_0x320d23][_0x4317ae(0xba)],console[_0x4317ae(0xa3)](_0x4317ae(0xb3)+_user[_0x320d23]['id']),fs['writeFileSync'](_0x4317ae(0xa9),JSON[_0x4317ae(0xaf)](_user,null,0x4)));},getPremiumPosition=(_0x15c7b2,_0x2c8e03)=>{const _0x1f3236=_0x4dd4ad;let _0x5c3ead=null;Object[_0x1f3236(0xa7)](_0x2c8e03)[_0x1f3236(0xaa)](_0xb9f13c=>{_0x2c8e03[_0xb9f13c]['id']===_0x15c7b2&&(_0x5c3ead=_0xb9f13c);});if(_0x5c3ead!==null)return _0x5c3ead;},checkPremiumUser=(_0x1ad544,_0x7c8cc4,_0x53c1b1)=>{const _0x442647=_0x4dd4ad;if(_0x7c8cc4)return!![];let _0xf5b72b=null;Object[_0x442647(0xa7)](_0x53c1b1)['forEach'](_0x44bddf=>{_0x53c1b1[_0x44bddf]['id']===_0x1ad544&&(_0xf5b72b=_0x44bddf);});if(_0xf5b72b!==null)return _0x53c1b1[_0xf5b72b][_0x442647(0xc0)];},getPremiumExpired=(_0x418256,_0x1b9cfb)=>{const _0x50c431=_0x4dd4ad;let _0xdd7916=null;Object[_0x50c431(0xa7)](_0x1b9cfb)[_0x50c431(0xaa)](_0x467abd=>{_0x1b9cfb[_0x467abd]['id']===_0x418256&&(_0xdd7916=_0x467abd);});if(_0xdd7916!==null)return _0x1b9cfb[_0xdd7916][_0x50c431(0xba)];},expiredCheck=(_0x4c5584,_0x1ae252,_0x373cc0)=>{setInterval(()=>{const _0x244ba0=_0x4e40;let _0x3da690=![];Object[_0x244ba0(0xa7)](_0x373cc0)[_0x244ba0(0xaa)](_0x1a9d01=>{const _0xd86f5d=_0x244ba0;Date[_0xd86f5d(0xbb)]()>=_0x373cc0[_0x1a9d01][_0xd86f5d(0xba)]&&(_0x3da690=_0x1a9d01);}),_0x3da690!==![]&&(idny=_0x373cc0[_0x3da690]['id'],_0x373cc0[_0x3da690][_0x244ba0(0xb7)]=0x0,_0x373cc0[_0x3da690][_0x244ba0(0xc0)]=![],delete _0x373cc0[_0x3da690]['expired'],console['log'](_0x244ba0(0xad)+_0x373cc0[_0x3da690]['id']),fs[_0x244ba0(0xc1)](_0x244ba0(0xa9),JSON[_0x244ba0(0xaf)](_0x373cc0,null,0x4)),idny?_0x4c5584[_0x244ba0(0xbe)](idny,_0x244ba0(0xac),_0x1ae252):'',idny=![]);},0x2710);};cron[_0x4dd4ad(0xbc)](_0x4dd4ad(0xb0),()=>{const _0x11e264=_0x4dd4ad;Object[_0x11e264(0xa7)](_user)['forEach'](_0x1fb6c1=>{const _0x2568f6=_0x11e264;_user[_0x1fb6c1][_0x2568f6(0xb7)]=0x0,fs['writeFileSync'](_0x2568f6(0xa9),JSON[_0x2568f6(0xaf)](_user,null,0x4));}),console[_0x11e264(0xa3)]('Resetting\x20user\x20limit...');},{'scheduled':!![],'timezone':config[_0x4dd4ad(0xb5)]}),module[_0x4dd4ad(0xa4)]={'addUser':addUser,'checkUser':checkUser,'isLimit':isLimit,'limitAdd':limitAdd,'getLimit':getLimit,'addBalance':addBalance,'getBalance':getBalance,'addPremiumUser':addPremiumUser,'delPremiumUser':delPremiumUser,'checkPremiumUser':checkPremiumUser,'getPremiumExpired':getPremiumExpired,'expiredCheck':expiredCheck};function _0x1023(){const _0x55bfcf=['log','exports','balance','moment-timezone','keys','readFileSync','./lib/database/data/user.json','forEach','3838311qxBRwr','Your\x20Premium\x20Role\x20has\x20run\x20out','Premium\x20expired:\x20','3HWefAt','stringify','0\x200\x20*\x20*\x20*','417032TiIEiG','163712iHqBmz','Premium\x20Deleted:\x20','191174IWhzJt','timezone','parse','limit','format','push','expired','now','schedule','1772328bTpaYK','sendText','2ppOsVp','premium','writeFileSync','3822660okYCyp','6141380ytSTCm'];_0x1023=function(){return _0x55bfcf;};return _0x1023();}
