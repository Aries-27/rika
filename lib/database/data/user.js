/* Copyright (C) 2020 INrlTeam.

Licensed under the  GPL-3.0 License;

you may not use this file except in compliance with the License.

inrl-md

*/
function _0x4737(){const _0x114286=['2032QUTnMg','4949sHOsyF','85edOwyM','Premium\x20expired:\x20','sendText','exports','format','2369732pMRxrB','readFileSync','5331168Emgwvx','forEach','Your\x20Premium\x20Role\x20has\x20run\x20out','25PRBDAG','./database/user.json','now','108690IbfBGn','schedule','574320wzRhdQ','./lib/database/config.json','keys','push','premium','balance','timezone','log','limit','stringify','Premium\x20Deleted:\x20','39036vZThxZ','expired','0\x200\x20*\x20*\x20*','334683bZvsLu','DD/MM\x20HH:mm:ss','writeFileSync'];_0x4737=function(){return _0x114286;};return _0x4737();}const _0x5dc627=_0xcd84;function _0xcd84(_0x517030,_0x172a57){const _0x4737b7=_0x4737();return _0xcd84=function(_0xcd8433,_0x1898fd){_0xcd8433=_0xcd8433-0x15b;let _0x40c38e=_0x4737b7[_0xcd8433];return _0x40c38e;},_0xcd84(_0x517030,_0x172a57);}(function(_0x5c1ad1,_0x343a24){const _0x2f7a58=_0xcd84,_0x46287c=_0x5c1ad1();while(!![]){try{const _0x104a5e=parseInt(_0x2f7a58(0x165))/0x1*(parseInt(_0x2f7a58(0x175))/0x2)+-parseInt(_0x2f7a58(0x178))/0x3+parseInt(_0x2f7a58(0x160))/0x4+-parseInt(_0x2f7a58(0x15b))/0x5*(parseInt(_0x2f7a58(0x168))/0x6)+-parseInt(_0x2f7a58(0x17c))/0x7*(-parseInt(_0x2f7a58(0x17b))/0x8)+-parseInt(_0x2f7a58(0x162))/0x9+parseInt(_0x2f7a58(0x16a))/0xa;if(_0x104a5e===_0x343a24)break;else _0x46287c['push'](_0x46287c['shift']());}catch(_0x1fb45a){_0x46287c['push'](_0x46287c['shift']());}}}(_0x4737,0x4a975));const fs=require('fs'),toMs=require('ms'),cron=require('node-cron'),config=JSON['parse'](fs[_0x5dc627(0x161)](_0x5dc627(0x16b))),time=require('moment-timezone')['tz'](config['timezone'])[_0x5dc627(0x15f)](_0x5dc627(0x179)),addUser=(_0x4cd15a,_0x3238d8,_0xdb3787)=>{const _0x2384ed=_0x5dc627;let _0x46be79=![];Object['keys'](_0xdb3787)[_0x2384ed(0x163)](_0x19d0e4=>{_0xdb3787[_0x19d0e4]['id']===_0x4cd15a&&(_0x46be79=!![]);});if(_0x46be79===![]){const _0x3fdb87={'id':_0x4cd15a,'verified':![],'name':_0x3238d8,'time':time,'limit':0x0,'balance':0x0,'premium':![]};return _0xdb3787[_0x2384ed(0x16d)](_0x3fdb87),fs['writeFileSync']('./database/user.json',JSON[_0x2384ed(0x173)](_0xdb3787,null,0x4)),![];}},checkUser=(_0x3a5b1b,_0x1664be)=>{const _0x2e680b=_0x5dc627;let _0x2c7be7=![];return Object[_0x2e680b(0x16c)](_0x1664be)[_0x2e680b(0x163)](_0x5d84ff=>{_0x1664be[_0x5d84ff]['id']===_0x3a5b1b&&(_0x2c7be7=!![]);}),_0x2c7be7;},isLimit=(_0xae7c43,_0x7e31a3,_0x3d9102,_0xe0858c,_0x19bea8)=>{const _0x1281c9=_0x5dc627;if(_0x7e31a3||_0x3d9102)return![];let _0x57c414=![];for(let _0x4b5f6e of _0x19bea8){if(_0x4b5f6e['id']===_0xae7c43)return _0x4b5f6e[_0x1281c9(0x172)]>=_0xe0858c?(_0x57c414=!![],!![]):(_0x57c414=!![],![]);}if(_0x57c414===![]){const _0x466a48={'id':_0xae7c43,'limit':0x0};return _0x19bea8[_0x1281c9(0x16d)](_0x466a48),fs[_0x1281c9(0x17a)]('./database/user.json',JSON[_0x1281c9(0x173)](_0x19bea8,null,0x4)),![];}},limitAdd=(_0x4cfaa1,_0x4a42f0,_0x25a144,_0x3a0fee)=>{const _0x20f76c=_0x5dc627;if(_0x4a42f0||_0x25a144)return![];let _0x549531=![];Object[_0x20f76c(0x16c)](_0x3a0fee)[_0x20f76c(0x163)](_0x5e9276=>{_0x3a0fee[_0x5e9276]['id']===_0x4cfaa1&&(_0x549531=_0x5e9276);}),_0x549531!==![]&&(_0x3a0fee[_0x549531]['limit']+=0x1,fs['writeFileSync']('./database/user.json',JSON[_0x20f76c(0x173)](_0x3a0fee,null,0x4)));},getLimit=(_0x3e2d4d,_0x152181)=>{const _0x425dba=_0x5dc627;let _0x233a0e=null,_0x17f1ba=![];Object[_0x425dba(0x16c)](_0x152181)[_0x425dba(0x163)](_0x325f76=>{_0x152181[_0x325f76]['id']===_0x3e2d4d&&(_0x233a0e=_0x325f76,_0x17f1ba=!![]);});if(_0x17f1ba===![]&&_0x233a0e===null){const _0x34870c={'id':_0x3e2d4d,'limit':0x0};return _0x152181[_0x425dba(0x16d)](_0x34870c),fs[_0x425dba(0x17a)](_0x425dba(0x166),JSON[_0x425dba(0x173)](_0x152181,null,0x4)),0x0;}else return _0x152181[_0x233a0e][_0x425dba(0x172)];},addBalance=(_0x276db4,_0xdb32e3,_0x257f39)=>{const _0x59b006=_0x5dc627;let _0x1d9294=![];Object[_0x59b006(0x16c)](_0x257f39)[_0x59b006(0x163)](_0x4e0940=>{_0x257f39[_0x4e0940]['id']===_0x276db4&&(_0x1d9294=_0x4e0940);}),_0x1d9294!==![]&&(_0x257f39[_0x1d9294]['balance']+=_0xdb32e3,fs[_0x59b006(0x17a)](_0x59b006(0x166),JSON[_0x59b006(0x173)](_0x257f39,null,0x4)));},getBalance=(_0x539b94,_0x18f1a5)=>{const _0x3ca876=_0x5dc627;let _0x4eaec2=![];return Object[_0x3ca876(0x16c)](_0x18f1a5)[_0x3ca876(0x163)](_0x3099aa=>{_0x18f1a5[_0x3099aa]['id']===_0x539b94&&(_0x4eaec2=_0x3099aa);}),_0x4eaec2!==![]?_0x18f1a5[_0x4eaec2][_0x3ca876(0x16f)]:0x0;},addPremiumUser=(_0x5add75,_0x48dffb,_0x425821)=>{const _0x1d75b3=_0x5dc627;let _0x47ad9a=![];Object[_0x1d75b3(0x16c)](_0x425821)[_0x1d75b3(0x163)](_0x2c2ba4=>{_0x425821[_0x2c2ba4]['id']===_0x5add75&&(_0x47ad9a=_0x2c2ba4);}),_0x47ad9a!==![]&&(_0x425821[_0x47ad9a][_0x1d75b3(0x16e)]=!![],_0x425821[_0x47ad9a][_0x1d75b3(0x176)]=Date[_0x1d75b3(0x167)]()+toMs(_0x48dffb),fs[_0x1d75b3(0x17a)](_0x1d75b3(0x166),JSON[_0x1d75b3(0x173)](_0x425821,null,0x4)));},delPremiumUser=(_0x48d25c,_0x518645)=>{const _0x4f50c4=_0x5dc627;let _0xa4d06d=![];Object[_0x4f50c4(0x16c)](_0x518645)[_0x4f50c4(0x163)](_0x52b0b3=>{_0x518645[_0x52b0b3]['id']===_0x48d25c&&(_0xa4d06d=_0x52b0b3);}),_0xa4d06d!==![]&&(_user[_0xa4d06d][_0x4f50c4(0x172)]=0x0,_user[_0xa4d06d][_0x4f50c4(0x16e)]=![],delete _user[_0xa4d06d][_0x4f50c4(0x176)],console[_0x4f50c4(0x171)](_0x4f50c4(0x174)+_user[_0xa4d06d]['id']),fs[_0x4f50c4(0x17a)](_0x4f50c4(0x166),JSON[_0x4f50c4(0x173)](_user,null,0x4)));},getPremiumPosition=(_0x206425,_0x585399)=>{const _0x28bbbc=_0x5dc627;let _0x58ecf0=null;Object[_0x28bbbc(0x16c)](_0x585399)[_0x28bbbc(0x163)](_0x262e0b=>{_0x585399[_0x262e0b]['id']===_0x206425&&(_0x58ecf0=_0x262e0b);});if(_0x58ecf0!==null)return _0x58ecf0;},checkPremiumUser=(_0x1f02f0,_0xbe61a9,_0x3b0586)=>{const _0x2b0c2e=_0x5dc627;if(_0xbe61a9)return!![];let _0x567848=null;Object['keys'](_0x3b0586)[_0x2b0c2e(0x163)](_0x47e6fe=>{_0x3b0586[_0x47e6fe]['id']===_0x1f02f0&&(_0x567848=_0x47e6fe);});if(_0x567848!==null)return _0x3b0586[_0x567848][_0x2b0c2e(0x16e)];},getPremiumExpired=(_0x147ae0,_0x5945ce)=>{const _0x3ee8a6=_0x5dc627;let _0x359376=null;Object[_0x3ee8a6(0x16c)](_0x5945ce)[_0x3ee8a6(0x163)](_0x100353=>{_0x5945ce[_0x100353]['id']===_0x147ae0&&(_0x359376=_0x100353);});if(_0x359376!==null)return _0x5945ce[_0x359376][_0x3ee8a6(0x176)];},expiredCheck=(_0x5e0422,_0x101de5,_0x584071)=>{setInterval(()=>{const _0x26d877=_0xcd84;let _0x45841c=![];Object[_0x26d877(0x16c)](_0x584071)[_0x26d877(0x163)](_0xd3ec66=>{const _0x4fe72e=_0x26d877;Date['now']()>=_0x584071[_0xd3ec66][_0x4fe72e(0x176)]&&(_0x45841c=_0xd3ec66);}),_0x45841c!==![]&&(idny=_0x584071[_0x45841c]['id'],_0x584071[_0x45841c][_0x26d877(0x172)]=0x0,_0x584071[_0x45841c][_0x26d877(0x16e)]=![],delete _0x584071[_0x45841c][_0x26d877(0x176)],console['log'](_0x26d877(0x15c)+_0x584071[_0x45841c]['id']),fs[_0x26d877(0x17a)](_0x26d877(0x166),JSON[_0x26d877(0x173)](_0x584071,null,0x4)),idny?_0x5e0422[_0x26d877(0x15d)](idny,_0x26d877(0x164),_0x101de5):'',idny=![]);},0x2710);};cron[_0x5dc627(0x169)](_0x5dc627(0x177),()=>{const _0x2e2983=_0x5dc627;Object[_0x2e2983(0x16c)](_user)[_0x2e2983(0x163)](_0x444824=>{const _0x370f10=_0x2e2983;_user[_0x444824][_0x370f10(0x172)]=0x0,fs['writeFileSync'](_0x370f10(0x166),JSON[_0x370f10(0x173)](_user,null,0x4));}),console[_0x2e2983(0x171)]('Resetting\x20user\x20limit...');},{'scheduled':!![],'timezone':config[_0x5dc627(0x170)]}),module[_0x5dc627(0x15e)]={'addUser':addUser,'checkUser':checkUser,'isLimit':isLimit,'limitAdd':limitAdd,'getLimit':getLimit,'addBalance':addBalance,'getBalance':getBalance,'addPremiumUser':addPremiumUser,'delPremiumUser':delPremiumUser,'checkPremiumUser':checkPremiumUser,'getPremiumExpired':getPremiumExpired,'expiredCheck':expiredCheck};
