function _0x41ac(_0x1db59b,_0x3f8340){const _0x20d811=_0x20d8();return _0x41ac=function(_0x41acb1,_0x300d45){_0x41acb1=_0x41acb1-0x160;let _0x4cf80d=_0x20d811[_0x41acb1];return _0x4cf80d;},_0x41ac(_0x1db59b,_0x3f8340);}const _0x1ea23a=_0x41ac;(function(_0xa718bc,_0x1ad669){const _0x30ecbf=_0x41ac,_0x1cf241=_0xa718bc();while(!![]){try{const _0x2cee90=-parseInt(_0x30ecbf(0x16d))/0x1+parseInt(_0x30ecbf(0x172))/0x2+parseInt(_0x30ecbf(0x16f))/0x3+parseInt(_0x30ecbf(0x16b))/0x4*(-parseInt(_0x30ecbf(0x18d))/0x5)+-parseInt(_0x30ecbf(0x17f))/0x6+parseInt(_0x30ecbf(0x167))/0x7*(-parseInt(_0x30ecbf(0x16a))/0x8)+parseInt(_0x30ecbf(0x16c))/0x9;if(_0x2cee90===_0x1ad669)break;else _0x1cf241['push'](_0x1cf241['shift']());}catch(_0xac3855){_0x1cf241['push'](_0x1cf241['shift']());}}}(_0x20d8,0xc81c8));const fs=require('fs'),{tmpdir}=require('os'),Crypto=require('crypto'),ff=require(_0x1ea23a(0x17e)),webp=require(_0x1ea23a(0x180)),path=require(_0x1ea23a(0x163));async function imageToWebp(_0x1c7ded){const _0x5d6a08=_0x1ea23a,_0x17485a=path[_0x5d6a08(0x182)](__dirname,_0x5d6a08(0x18b)+Crypto[_0x5d6a08(0x188)](0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+_0x5d6a08(0x168)),_0x359567=path[_0x5d6a08(0x182)](__dirname,_0x5d6a08(0x18b)+Crypto[_0x5d6a08(0x188)](0x6)[_0x5d6a08(0x170)](0x0,0x6)[_0x5d6a08(0x18e)](0x24)+_0x5d6a08(0x173));fs['writeFileSync'](_0x359567,_0x1c7ded),await new Promise((_0x37c326,_0x1966b5)=>{const _0x170fb5=_0x5d6a08;ff(_0x359567)['on']('error',_0x1966b5)['on'](_0x170fb5(0x160),()=>_0x37c326(!![]))[_0x170fb5(0x18a)]([_0x170fb5(0x165),_0x170fb5(0x181),'-vf',_0x170fb5(0x17b)])[_0x170fb5(0x185)](_0x170fb5(0x17a))[_0x170fb5(0x171)](_0x17485a);});const _0x20f072=fs[_0x5d6a08(0x189)](_0x17485a);return fs[_0x5d6a08(0x184)](_0x17485a),fs[_0x5d6a08(0x184)](_0x359567),_0x20f072;}async function videoToWebp(_0x14650b){const _0xdaa54=_0x1ea23a,_0x1dd51a=path[_0xdaa54(0x182)](tmpdir(),Crypto['randomBytes'](0x6)[_0xdaa54(0x170)](0x0,0x6)['toString'](0x24)+_0xdaa54(0x168)),_0x30eb50=path[_0xdaa54(0x182)](tmpdir(),Crypto[_0xdaa54(0x188)](0x6)['readUIntLE'](0x0,0x6)[_0xdaa54(0x18e)](0x24)+_0xdaa54(0x176));fs[_0xdaa54(0x161)](_0x30eb50,_0x14650b),await new Promise((_0x4c5e33,_0x1f1e8e)=>{const _0x196856=_0xdaa54;ff(_0x30eb50)['on'](_0x196856(0x164),_0x1f1e8e)['on']('end',()=>_0x4c5e33(!![]))[_0x196856(0x18a)](['-vcodec',_0x196856(0x181),_0x196856(0x178),_0x196856(0x17b)])[_0x196856(0x185)](_0x196856(0x17a))[_0x196856(0x171)](_0x1dd51a);});const _0x2f28c8=fs[_0xdaa54(0x189)](_0x1dd51a);return fs[_0xdaa54(0x184)](_0x1dd51a),fs[_0xdaa54(0x184)](_0x30eb50),_0x2f28c8;}async function writeExifImg(_0x2a2ac8,_0x247513){const _0x1c29c3=_0x1ea23a;let _0x1792a9=await imageToWebp(_0x2a2ac8);const _0x49eb90=path[_0x1c29c3(0x182)](tmpdir(),Crypto[_0x1c29c3(0x188)](0x6)[_0x1c29c3(0x170)](0x0,0x6)[_0x1c29c3(0x18e)](0x24)+_0x1c29c3(0x168)),_0x3c5d3e=path[_0x1c29c3(0x182)](tmpdir(),Crypto[_0x1c29c3(0x188)](0x6)[_0x1c29c3(0x170)](0x0,0x6)['toString'](0x24)+_0x1c29c3(0x168));fs[_0x1c29c3(0x161)](_0x49eb90,_0x1792a9);if(_0x247513['packname']||_0x247513['author']){const _0x2b9d75=new webp['Image'](),_0x4d36d4={'sticker-pack-id':_0x1c29c3(0x162),'sticker-pack-name':_0x247513['packname'],'sticker-pack-publisher':_0x247513[_0x1c29c3(0x17d)],'emojis':_0x247513[_0x1c29c3(0x18c)]?_0x247513['categories']:['']},_0x36c765=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x266a79=Buffer[_0x1c29c3(0x18f)](JSON['stringify'](_0x4d36d4),_0x1c29c3(0x17c)),_0x148bb4=Buffer[_0x1c29c3(0x183)]([_0x36c765,_0x266a79]);return _0x148bb4[_0x1c29c3(0x186)](_0x266a79[_0x1c29c3(0x175)],0xe,0x4),await _0x2b9d75['load'](_0x49eb90),fs[_0x1c29c3(0x184)](_0x49eb90),_0x2b9d75[_0x1c29c3(0x16e)]=_0x148bb4,await _0x2b9d75[_0x1c29c3(0x171)](_0x3c5d3e),_0x3c5d3e;}}async function writeExifVid(_0x428835,_0x3904fb){const _0x536c62=_0x1ea23a;let _0x4a5ac1=await videoToWebp(_0x428835);const _0x26826a=path[_0x536c62(0x182)](tmpdir(),Crypto[_0x536c62(0x188)](0x6)[_0x536c62(0x170)](0x0,0x6)[_0x536c62(0x18e)](0x24)+_0x536c62(0x168)),_0x18bda0=path[_0x536c62(0x182)](tmpdir(),Crypto[_0x536c62(0x188)](0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+_0x536c62(0x168));fs[_0x536c62(0x161)](_0x26826a,_0x4a5ac1);if(_0x3904fb[_0x536c62(0x169)]||_0x3904fb[_0x536c62(0x17d)]){const _0x33f1a8=new webp[(_0x536c62(0x179))](),_0x21fa17={'sticker-pack-id':_0x536c62(0x162),'sticker-pack-name':_0x3904fb['packname'],'sticker-pack-publisher':_0x3904fb['author'],'emojis':_0x3904fb[_0x536c62(0x18c)]?_0x3904fb[_0x536c62(0x18c)]:['']},_0x432e8d=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x1d0ee=Buffer[_0x536c62(0x18f)](JSON['stringify'](_0x21fa17),_0x536c62(0x17c)),_0x199e18=Buffer[_0x536c62(0x183)]([_0x432e8d,_0x1d0ee]);return _0x199e18[_0x536c62(0x186)](_0x1d0ee[_0x536c62(0x175)],0xe,0x4),await _0x33f1a8[_0x536c62(0x166)](_0x26826a),fs[_0x536c62(0x184)](_0x26826a),_0x33f1a8[_0x536c62(0x16e)]=_0x199e18,await _0x33f1a8[_0x536c62(0x171)](_0x18bda0),_0x18bda0;}}async function writeExif(_0x3b3644,_0x43831a){const _0x31dbbd=_0x1ea23a;let _0xb033c4=/webp/['test'](_0x3b3644['mimetype'])?_0x3b3644[_0x31dbbd(0x177)]:/image/[_0x31dbbd(0x174)](_0x3b3644['mimetype'])?await imageToWebp(_0x3b3644[_0x31dbbd(0x177)]):/video/[_0x31dbbd(0x174)](_0x3b3644['mimetype'])?await videoToWebp(_0x3b3644[_0x31dbbd(0x177)]):'';const _0x1e6dbc=path['join'](tmpdir(),Crypto[_0x31dbbd(0x188)](0x6)[_0x31dbbd(0x170)](0x0,0x6)[_0x31dbbd(0x18e)](0x24)+_0x31dbbd(0x168)),_0x34b7a4=path[_0x31dbbd(0x182)](tmpdir(),Crypto[_0x31dbbd(0x188)](0x6)[_0x31dbbd(0x170)](0x0,0x6)['toString'](0x24)+'.webp');fs[_0x31dbbd(0x161)](_0x1e6dbc,_0xb033c4);if(_0x43831a['packname']||_0x43831a[_0x31dbbd(0x17d)]){const _0x3af662=new webp['Image'](),_0x5a3e74={'sticker-pack-id':_0x31dbbd(0x162),'sticker-pack-name':_0x43831a[_0x31dbbd(0x169)],'sticker-pack-publisher':_0x43831a[_0x31dbbd(0x17d)],'emojis':_0x43831a[_0x31dbbd(0x18c)]?_0x43831a[_0x31dbbd(0x18c)]:['']},_0x305b38=Buffer[_0x31dbbd(0x18f)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x2e52b3=Buffer['from'](JSON['stringify'](_0x5a3e74),'utf-8'),_0x3aa697=Buffer[_0x31dbbd(0x183)]([_0x305b38,_0x2e52b3]);return _0x3aa697[_0x31dbbd(0x186)](_0x2e52b3['length'],0xe,0x4),await _0x3af662[_0x31dbbd(0x166)](_0x1e6dbc),fs[_0x31dbbd(0x184)](_0x1e6dbc),_0x3af662[_0x31dbbd(0x16e)]=_0x3aa697,await _0x3af662[_0x31dbbd(0x171)](_0x34b7a4),_0x34b7a4;}}function _0x20d8(){const _0x18b53b=['categories','5QXeXnT','toString','from','end','writeFileSync','https://AiDarkEzio.github.io','path','error','-vcodec','load','2161957AFbMcU','.webp','packname','24cNdQbn','5849540QxcaRP','35071686sNQtFV','1383263ehxmuZ','exif','145704epSlJX','readUIntLE','save','1880108hJmVUx','.jpg','test','length','.mp4','data','-vf','Image','webp','scale=512:512:force_original_aspect_ratio=increase,fps=15,crop=512:512','utf-8','author','fluent-ffmpeg','1761714TDnmKn','node-webpmux','libwebp','join','concat','unlinkSync','toFormat','writeUIntLE','exports','randomBytes','readFileSync','addOutputOptions','../temp/'];_0x20d8=function(){return _0x18b53b;};return _0x20d8();}module[_0x1ea23a(0x187)]={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExif':writeExif};
